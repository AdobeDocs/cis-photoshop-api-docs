(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[628],{5711:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return p},default:function(){return m}});var o=a(2122),n=a(9756),i=(a(5007),a(4983)),s=a(9536),p={},l={_frontmatter:p},r=s.Z;function m(e){var t=e.components,a=(0,n.Z)(e,["components"]);return(0,i.mdx)(r,(0,o.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"how-to-use-the-apis"},"How to use the APIs"),(0,i.mdx)("p",null,"The API's are documented at ",(0,i.mdx)("a",{parentName:"p",href:"https://adobedocs.github.io/photoshop-api-docs-pre-release/#api-Sensei"},"https://adobedocs.github.io/photoshop-api-docs/#api-Sensei")),(0,i.mdx)("p",null,"First be sure to follow the instructions in the ",(0,i.mdx)("a",{parentName:"p",href:"../../../getting-started/#overview"},"Overview")," section to get your token."),(0,i.mdx)("h2",{id:"example-1-initiate-a-job-to-create-an-image-cutout"},"Example 1: Initiate a job to create an image cutout"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"/cutout")," api takes a single input image to generate your mask or cutout from. Using ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/AdobeDocs/cis-photoshop-api-docs-pre-release/blob/main/sample_files/Example.jpg"},"Example.jpg"),", a typical curl call might look like this:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},'curl -X POST \\\n  https://image.adobe.io/sensei/cutout \\\n  -H \'Authorization: Bearer <auth_token>\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'x-api-key: <YOUR_API_KEY>\' \\\n  -d \'{\n   "input":{\n      "storage":"external",\n      "href":"<SIGNED_GET_URL>"\n   },\n   "output":{\n      "storage":"external",\n      "href":"<SIGNED_PUT_URL>",\n      "mask":{\n         "format":"binary"\n      }\n   }\n}\'\n')),(0,i.mdx)("p",null,"This initiates an asynchronous job and returns a response containing the href to poll for job status and the JSON manifest."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "_links": {\n        "self": {\n            "href": "https://image.adobe.io/sensei/status/e3a13d81-a462-4b71-9964-28b2ef34aca7"\n        }\n    }\n}\n')),(0,i.mdx)("p",null,"Using the job id returned from the previous call you can poll on the returned ",(0,i.mdx)("inlineCode",{parentName:"p"},"/status")," href to get the job status"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"curl -X GET \\\n  https://image.adobe.io/sensei/status/e3a13d81-a462-4b71-9964-28b2ef34aca7 \\\n  -H 'Authorization: Bearer <auth_token>' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: <YOUR_API_KEY>'\n")),(0,i.mdx)("p",null,"Once the job is complete your successful ",(0,i.mdx)("inlineCode",{parentName:"p"},"/status")," response will look similar to the response below; The output will have been placed in your requested location. In the event of failure the errors will be shown instead"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "jobID": "e3a13d81-a462-4b71-9964-28b2ef34aca7",\n    "status": "succeeded",\n    "created": "2020-02-11T21:08:43.789Z",\n    "modified": "2020-02-11T21:08:48.492Z",\n    "input": "<SIGNED_GET_URL>",\n    "_links": {\n        "self": {\n            "href": "https://image.adobe.io/sensei/status/e3a13d81-a462-4b71-9964-28b2ef34aca7"\n        }\n    },\n    "output": {\n        "storage": "external",\n        "href": "<SIGNED_PUT_URL>",\n        "mask": {\n            "format": "binary"\n        }\n    }\n}\n')),(0,i.mdx)("h2",{id:"example-2-initiate-a-job-to-create-an-image-mask"},"Example 2: Initiate a job to create an image mask"),(0,i.mdx)("p",null,"The workflow is exactly the same as ",(0,i.mdx)("a",{parentName:"p",href:"#example-1-initiate-a-job-to-create-an-image-cutout"},"creating an image cutout")," except you use the ",(0,i.mdx)("inlineCode",{parentName:"p"},"/mask")," endpoint instead of ",(0,i.mdx)("inlineCode",{parentName:"p"},"/cutout"),".  "),(0,i.mdx)("h2",{id:"customized-workflow"},"Customized Workflow"),(0,i.mdx)("p",null,"This section will demonstrate how to make a 'customized workflow' by chaining different APIs."),(0,i.mdx)("h3",{id:"example-3-generate-imagecutout-result-as-photoshop-path"},"Example 3: (Generate ImageCutOut result as Photoshop path)"),(0,i.mdx)("p",null,"This workflow is ONLY for users who'd like to generate cutout result as Photoshop path instead of regular mask or cutout in above ",(0,i.mdx)("a",{parentName:"p",href:"#example-1-initiate-a-job-to-create-an-image-cutout"},"example 1")," and ",(0,i.mdx)("a",{parentName:"p",href:"#example-2-initiate-a-job-to-create-an-image-mask"},"example 2"),". You will need to chain API calls to ImageCutOut service and Photoshop Service to achieve this goal."),(0,i.mdx)("h4",{id:"sample-inputoutput"},"Sample Input/Output"),(0,i.mdx)("p",null,"Sample input from ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/AdobeDocs/cis-photoshop-api-docs-pre-release/blob/main/sample_files/ic_customized_workflow/input.jpg"},"here"),".\nSample output from ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/AdobeDocs/cis-photoshop-api-docs-pre-release/blob/main/sample_files/ic_customized_workflow/result_with_path.jpg"},"here")," (Note: you will need to open result in Photoshop Desktop application so that you will see the path in path panel)"),(0,i.mdx)("h4",{id:"instructions"},"Instructions"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"Download the make-file.atn file from ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/AdobeDocs/cis-photoshop-api-docs-pre-release/blob/main/sample_files/ic_customized_workflow/make-path.atn"},"here")," (this file will be used in the Photoshop action API call)"),(0,i.mdx)("li",{parentName:"ol"},"Make the first API call to ImageCutOut service to generate intermediate result as RGBA cutout"),(0,i.mdx)("li",{parentName:"ol"},"Make the second API call to Photoshop action service to use above intermediate result as well as the make-file.atn file to generate final JPEG format result with desired PS path embedded"),(0,i.mdx)("li",{parentName:"ol"},"Open the final result with Photoshop Desktop app to check generated path in path panel")),(0,i.mdx)("h4",{id:"sample-code"},"Sample Code"),(0,i.mdx)("p",null,"You can download the sample end-to-end bash script ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/AdobeDocs/cis-photoshop-api-docs-pre-release/tree/main/sample-code/ic-customized-workflow-app"},"here")," and then follow the comments to try it out this customized workflow."))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-features-imagecutout-examples-index-md-94d82df63d420c9f61be.js.map