(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[849],{1641:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return l},default:function(){return m}});var o=a(2122),n=a(9756),i=(a(5007),a(4983)),r=a(9536),l={},s={_frontmatter:l},d=r.Z;function m(e){var t=e.components,a=(0,n.Z)(e,["components"]);return(0,i.mdx)(d,(0,o.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"getting-started-with-the-photoshop-api"},"Getting started with the Photoshop API"),(0,i.mdx)("p",null,"There are few steps to take before using the Photoshop APIs."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Overview"),": Configure permissions for the developer in the Adobe Admin Console."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Free trial users (JWT Authentication)"),": Create a client configuration in the Adobe I/O Console."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Automating the JWT Token"),": Obtain the necessary credentials to send data to Adobe."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"API Keys"),": Obtain the necessary credentials to send data to Adobe."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Retries"),": Obtain the necessary credentials to send data to Adobe."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Rate Limiting"),": Obtain the necessary credentials to send data to Adobe."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Quota Limits"),": Obtain the necessary credentials to send data to Adobe.")),(0,i.mdx)("h2",{id:"overview"},"Overview"),(0,i.mdx)("p",null,"The Photoshop API uses client id’s (also known as api keys) and authentication tokens to authenticate requests. There are two different kinds of authorization tokens available:\nInternal Adobe user access (OAuth 2.0 access token)\nFree trial user (Service token using JSON Web Token/JWT)\nIn order to use the Photoshop API's you’ll need to get an API key (also known as a CLIENT ID) and a Client Secret. Once you have those you can use them to programmatically get an access token to authenticate your requests. We’ll walk you through the steps below."),(0,i.mdx)("h2",{id:"internal-adobe-users-only"},"Internal Adobe Users Only"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"Get your client id and client secret from the CIS team."),(0,i.mdx)("li",{parentName:"ol"},"Test out your credentials.")),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Browse to ",(0,i.mdx)("a",{parentName:"li",href:"https://ps-prerelease-us-east-1.cloud.adobe.io"},"https://ps-prerelease-us-east-1.cloud.adobe.io")),(0,i.mdx)("li",{parentName:"ul"},"Enter the client id and secret"),(0,i.mdx)("li",{parentName:"ul"},"Follow through the login process"),(0,i.mdx)("li",{parentName:"ul"},"If your credentials work you should see an authorization token appear on your screen")),(0,i.mdx)("ol",{start:3},(0,i.mdx)("li",{parentName:"ol"},"Make an authenticated call to ensure you can round trip successfully with the API’s")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},'curl --request GET \\\n  --url https://image.adobe.io/pie/psdService/hello  \\\n  --header "Authorization: Bearer <YOUR_OAUTH_TOKEN>" \\\n  --header "x-api-key: <YOUR_CLIENT_ID>" \\\n')),(0,i.mdx)("p",null,"  Congrats! You just made your first request to the Photoshop API."),(0,i.mdx)("ol",{start:4},(0,i.mdx)("li",{parentName:"ol"},"Make a Photoshop API call with real assets\nNow that you can successfully authenticate and talk to the API’s it’s time to make “real” calls…")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},'curl -X POST \\\n  https://image.adobe.io/pie/psdService/documentManifest \\\n  -H \'Authorization: Bearer <auth_token>\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'x-api-key: <YOUR_API_KEY>\' \\\n  -d \'{\n  "inputs": [\n    {\n      "href":"files/Example.psd",\n      "storage":"adobe"\n    }\n  ]\n}\'\n')),(0,i.mdx)("ol",{start:5},(0,i.mdx)("li",{parentName:"ol"},"Notes on token retrieval\nThe access token must never be transmitted as a URI parameter. Doing so would expose it to being captured in-the-clear by intermediaries such as proxy server logs. The API does not allow you to send an access token anywhere except the Authorization header field.")),(0,i.mdx)("p",null,"Your access token will expire typically in 24 hours. You will receive a ‘refresh_token’ when you initially obtain the access token that you can use to get a new access token. Be aware that refreshing your token might require a new login event. Please reference the OAuth documentation for additional instructions.\nPlease contact ",(0,i.mdx)("a",{parentName:"p",href:"mailto:psdservices@adobe.com"},"psdservices@adobe.com")," for more information on how you can automate token generation for your workflow."),(0,i.mdx)("h4",{id:"additional-oauth-20-and-ims-information"},"Additional OAuth 2.0 and IMS Information"),(0,i.mdx)("p",null,"You can find details on interacting with Adobe IMS API’s and authentication in general"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/AuthenticationOverview/AuthenticationGuide.md"},"General Authentication Information")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/OAuth/OAuth.md"},"OAuth Authentication")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/Resources/IMS.md"},"IMS API’s")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"sample_code/oauth-sample-app"},"OAuth Sample Code"))),(0,i.mdx)("h2",{id:"free-trial-users-jwt-authentication"},"Free trial users (JWT authentication)"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"NOTE: Free Trial users will not have access to assets stored in the Creative Cloud so you must use an external storage source when making calls to the API. All free trial users will have 5,000 API calls to test their use case and provide feedback. Please see [Quota Limits](#quota-limits) for more information.")),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"If you haven't signed up and generated credentials please follow this link and follow the steps on the confirmation modal:\n",(0,i.mdx)("a",{parentName:"li",href:"https://www.adobe-prerelease.com/sign-up/"},"https://www.adobe-prerelease.com/sign-up/")),(0,i.mdx)("li",{parentName:"ol"},"If you have already signed up and need a new keyGo to ",(0,i.mdx)("a",{parentName:"li",href:"https://console.adobe.io/home"},"https://console.adobe.io/home")," and sign in to the Admin Console."),(0,i.mdx)("li",{parentName:"ol"},'Click on "Create a new project" under the "Quick Start" section on the middle of your screen'),(0,i.mdx)("li",{parentName:"ol"},'Click on "Add API"'),(0,i.mdx)("li",{parentName:"ol"},'Select the "Adobe Photoshop APIs (Trial)" and click on "Next"'),(0,i.mdx)("li",{parentName:"ol"},'You should see a zip file named "Config" in your downloads'),(0,i.mdx)("li",{parentName:"ol"},'Open the contents of the zip and locate the file name "private.key"'),(0,i.mdx)("li",{parentName:"ol"},'Open the file named "private.key" in a text editor like Atom or Sublime'),(0,i.mdx)("li",{parentName:"ol"},'Copy the entire contents of the file and paste it in your project page in the section labeled "Generate access token" and click on "Generate token" on the bottom right hand corner.'),(0,i.mdx)("li",{parentName:"ol"},"Congrats! You have just created a JWT token. Now copy your token and Client ID from this screen into a secure document. You are going to need them for the next step."),(0,i.mdx)("li",{parentName:"ol"},'Open your terminal and paste the code below. Make sure to replace the variables "YOUR_ACCESS_TOKEN" and "YOUR_CLIENT_ID" with the information you copied from the last step and run the command.')),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},'curl --request GET \\\n  --url https://image.adobe.io/pie/psdService/hello \\\n  --header "Authorization: Bearer <YOUR_ACCESS_TOKEN>" \\\n  --header "x-api-key: <YOUR_CLIENT_ID>"\n')),(0,i.mdx)("p",null,"  Congrats! You just made your first request to the Photoshop API."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"NOTE: Your token will expire every 24 hours and will need to be refreshed after it expires. See the next section for more information on retrieving your token programmatically.")),(0,i.mdx)("ol",{start:12},(0,i.mdx)("li",{parentName:"ol"},"Make a Photoshop API call with real assets")),(0,i.mdx)("p",null,"Now that you can successfully authenticate and communicate with the API it’s time to make “real” calls. In order to make a call using your own assets you will need to have them stored in any of the accepted external storage solutions(S3, Azure or Dropbox). For more information on storage please refer to the ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/AdobeDocs/photoshop-api-docs-pre-release#input-and-output-file-storage"},"File Storage"),".If you dont have any assets and want to start testing you can download some of our ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/AdobeDocs/photoshop-api-docs-pre-release/tree/master/sample_files"},"sample files")," and upload them to your supported external solution of choice."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},'curl -X POST \\\n  https://image.adobe.io/pie/psdService/documentManifest \\\n  -H \'Authorization: Bearer <auth_token>\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'x-api-key: <YOUR_API_KEY>\' \\\n  -d \'{\n  "inputs": [\n    {\n      "href":"<SIGNED_GET_URL>",\n      "storage":"external"\n    }\n  ]\n}\'\n')),(0,i.mdx)("h2",{id:"automating-your-jwt-token"},"Automating your JWT token"),(0,i.mdx)("p",null,"Check out these modules for a quick path to automating your token retrieval:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://www.datanalyst.info/python/adobe-io-user-management/adobe-io-jwt-authentication-with-python/"},"JWT Instructions for Python")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://www.npmjs.com/package/@adobe/jwt-auth"},"JWT Instructions for Node"))),(0,i.mdx)("h2",{id:"additional-service-token-and-jwt-information"},"Additional Service Token and JWT Information"),(0,i.mdx)("p",null,"You can find details on interacting with Adobe IMS API’s and authentication in general"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/AuthenticationOverview/AuthenticationGuide.md"},"General Authentication Information")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/JWT/JWT.md"},"JWT/Service Token Authentication")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/Resources/IMS.md"},"IMS API’s")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"sample_code/jwt-sample-app"},"JWT Sample Code"),"  ")),(0,i.mdx)("h2",{id:"api-keys"},"API Keys"),(0,i.mdx)("p",null,"Also known as the ",(0,i.mdx)("inlineCode",{parentName:"p"},"client_id"),". You must additionally pass in your Adobe API key in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"x-api-key")," header field. You’ll automatically get a developer API key when you create your Adobe I/O Console Integration.  After you've created your integration you can find your API key in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"Overview")," tab of your Integration"),(0,i.mdx)("h2",{id:"retries"},"Retries"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"The service will retry status codes of 429, 502, 503, 504 three times."),(0,i.mdx)("li",{parentName:"ul"},"You should only retry requests that have a 5xx response code. A 5xx error response indicates there was a problem processing the request on the server."),(0,i.mdx)("li",{parentName:"ul"},"You should implement an exponential back-off retry strategy with 3 retry attempts."),(0,i.mdx)("li",{parentName:"ul"},"You should not retry requests for any other response code.")),(0,i.mdx)("h2",{id:"rate-limiting"},"Rate Limiting"),(0,i.mdx)("p",null,"We have not put a throttle limit on requests to the API at this time."),(0,i.mdx)("h2",{id:"quota-limits"},"Quota Limits"),(0,i.mdx)("p",null,"All free trial users will have 5,000 API calls in order to test and evaluate the API in a non production environment. If for any reason you reach your limit and need to extend your quota please reach out ",(0,i.mdx)("a",{parentName:"p",href:"mailto:psdservices@adobe.com"},"psdservices@adobe.com")," for more information."))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-getting-started-index-md-6d9e58eec39623e89f28.js.map